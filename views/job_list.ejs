<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
  <h2 class="text-center mb-4">Available Jobs</h2>

  <form method="GET" action="/jobs/list" class="row g-3 mb-4">
    <div class="col-md-5">
      <input type="text" name="title" class="form-control" placeholder="Search by title" value="<%= title %>" />
    </div>
    <div class="col-md-5">
      <input type="text" name="location" class="form-control" placeholder="Search by location" value="<%= location %>" />
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-primary w-100">Search</button>
    </div>
  </form>

  <% if (jobs.length === 0) { %>
    <p>No jobs found.</p>
  <% } %>

  <% jobs.forEach(job => { %>
    <div class="card mb-3 shadow-sm">
      <div class="card-body">
        <h3><%= job.title %></h3>
        <p><strong>Description:</strong> <%= job.description %></p>
        <p><strong>Location:</strong> <%= job.location %></p>
        <p><strong>Posted By:</strong> <%= job.employer_name %></p>
        <form method="GET" action="/applications/apply/<%= job.job_id %>">
          <button type="submit" class="btn btn-success">Apply</button>
        </form>
      </div>
    </div>
  <% }) %>

  <div class="text-center mt-3">
    <a href="/dashboard" class="btn btn-link">Back to Dashboard</a>
  </div>
</div>
